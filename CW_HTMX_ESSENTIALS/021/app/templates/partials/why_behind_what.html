<!-- Content generated/inserted by enhance_courseware.py -->
<div class="text-base md:text-lg">
  <h2 class="text-3xl lg:text-4xl font-bold text-white mb-6">
    The "Why" Behind the "What": HTMX Core Concepts
  </h2>
  <div x-data="{ openAccordion: 1 }" class="space-y-3 text-left">
    <details class="bg-slate-900 p-4 rounded-lg" :open="openAccordion === 1">
      <summary
        @click.prevent="openAccordion = (openAccordion === 1) ? null : 1"
        class="font-semibold text-lg lg:text-xl text-indigo-400 cursor-pointer list-none flex justify-between items-center"
      >
        <span>Why use `hx-post` and `hx-target`?</span>
        <span
          class="text-slate-500 text-sm transform transition-transform"
          :class="{ 'rotate-180': openAccordion === 1 }"
          >▼</span
        >
      </summary>
      <div class="mt-3 text-slate-300 space-y-2">
        <p>
          <strong>The Problem:</strong> Submitting a form, like entering a PIN or a withdrawal amount, traditionally requires a full page reload. To avoid this, developers write JavaScript to intercept the form submission, package the data, send it with `fetch()`, wait for a response, and then manually update the correct part of the page with `element.innerHTML`. This is boilerplate code that's repeated for every form.
        </p>
        <p>
          <strong>The HTMX Solution:</strong> The `hx-post` attribute tells the form to send its data to a server endpoint via an AJAX POST request. The `hx-target` attribute then tells HTMX exactly where to place the HTML fragment that the server sends back. We achieve a modern, partial-page update with two simple HTML attributes, completely eliminating the need for custom JavaScript.
        </p>
      </div>
    </details>
    <details class="bg-slate-900 p-4 rounded-lg" :open="openAccordion === 2">
      <summary
        @click.prevent="openAccordion = (openAccordion === 2) ? null : 2"
        class="font-semibold text-lg lg:text-xl text-indigo-400 cursor-pointer list-none flex justify-between items-center"
      >
        <span>Why use `hx-get`?</span>
        <span
          class="text-slate-500 text-sm transform transition-transform"
          :class="{ 'rotate-180': openAccordion === 2 }"
          >▼</span
        >
      </summary>
      <div class="mt-3 text-slate-300 space-y-2">
        <p>
          <strong>The Problem:</strong> Fetching data with a button click, like checking an account balance, also requires JavaScript. You'd add a click listener to the button, make a `fetch()` GET request, and then use the response to update the DOM. It's a simple task that still involves multiple steps and context-switching between HTML and JavaScript.
        </p>
        <p>
          <strong>The HTMX Solution:</strong> The `hx-get` attribute turns any element—in this case, a button—into a trigger for a GET request. Paired with `hx-target`, it provides the simplest possible way to fetch a piece of HTML from the server and place it on the page, all without leaving your HTML.
        </p>
      </div>
    </details>
    <details class="bg-slate-900 p-4 rounded-lg" :open="openAccordion === 3">
      <summary
        @click.prevent="openAccordion = (openAccordion === 3) ? null : 3"
        class="font-semibold text-lg lg:text-xl text-indigo-400 cursor-pointer list-none flex justify-between items-center"
      >
        <span>Why rely on an `HX-Redirect` header?</span>
        <span
          class="text-slate-500 text-sm transform transition-transform"
          :class="{ 'rotate-180': openAccordion === 3 }"
          >▼</span
        >
      </summary>
      <div class="mt-3 text-slate-300 space-y-2">
        <p>
          <strong>The Problem:</strong> After an AJAX request, how can the server tell the browser to navigate to a new page? For example, if a user's session has expired, you want to force a redirect to the login screen. The standard approach is for the server to send a special JSON response (e.g., `{"redirect": "/login"}`) and for the client-side JavaScript to parse this and manually execute `window.location.href`. This couples the client and server with a custom JSON contract.
        </p>
        <p>
          <strong>The HTMX Solution:</strong> HTMX allows the server to stay in control. If the server responds to an HTMX request with a standard `HX-Redirect` HTTP header, HTMX will automatically perform a client-side redirect to the specified URL. As seen in the `/balance` endpoint, this lets the server decide if the user is authenticated. If not, it can trigger a redirect without any client-side logic, keeping the application's business rules on the backend where they belong.
        </p>
      </div>
    </details>
  </div>
</div>
<button
  @click="conceptsModalOpen = false"
  class="absolute top-4 right-4 text-slate-500 hover:text-slate-300 text-3xl font-light"
>
  ×
</button>
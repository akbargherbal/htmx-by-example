<!-- Content generated/inserted by enhance_courseware.py -->
<div class="text-base md:text-lg">
  <h2 class="text-3xl lg:text-4xl font-bold text-white mb-6">
    The "Why" Behind the "What": HTMX Core Concepts
  </h2>
  <div x-data="{ openAccordion: 1 }" class="space-y-3 text-left">
    <details class="bg-slate-900 p-4 rounded-lg" :open="openAccordion === 1">
      <summary
        @click.prevent="openAccordion = (openAccordion === 1) ? null : 1"
        class="font-semibold text-lg lg:text-xl text-teal-400 cursor-pointer list-none flex justify-between items-center"
      >
        <span>Why use `hx-post` & `hx-target`?</span>
        <span
          class="text-slate-500 text-sm transform transition-transform"
          :class="{ 'rotate-180': openAccordion === 1 }"
          >▼</span
        >
      </summary>
      <div class="mt-3 text-slate-300 space-y-2">
        <p>
          <strong>The Problem:</strong> Submitting a standard HTML form causes a full page reload, which feels slow and resets the user's scroll position. To prevent this, developers write JavaScript to intercept the form submission, package the data, send an AJAX (e.g., `fetch`) request, and then manually update the DOM with the response. This is a lot of boilerplate for a very common pattern.
        </p>
        <p>
          <strong>The HTMX Solution:</strong> HTMX replaces that custom JavaScript with simple, declarative attributes. `hx-post="/request-book"` tells the form to send its data to that URL via a POST request. `hx-target="#librarian-desk-response"` tells HTMX exactly which element on the page to update with the HTML fragment returned by the server. It's a clean, powerful way to get modern UX without writing complex client-side code.
        </p>
      </div>
    </details>
    <details class="bg-slate-900 p-4 rounded-lg" :open="openAccordion === 2">
      <summary
        @click.prevent="openAccordion = (openAccordion === 2) ? null : 2"
        class="font-semibold text-lg lg:text-xl text-teal-400 cursor-pointer list-none flex justify-between items-center"
      >
        <span>Why update the URL with `HX-Push-Url`?</span>
        <span
          class="text-slate-500 text-sm transform transition-transform"
          :class="{ 'rotate-180': openAccordion === 2 }"
          >▼</span
        >
      </summary>
      <div class="mt-3 text-slate-300 space-y-2">
        <p>
          <strong>The Problem:</strong> A major downside of traditional AJAX is that the page content changes, but the browser's URL does not. If a user finds a book and wants to bookmark the result or share the link, the URL still points to the empty form. The dynamic state is lost on refresh or when sharing, breaking a core feature of the web.
        </p>
        <p>
          <strong>The HTMX Solution:</strong> HTMX solves this by listening for a special `HX-Push-Url` header from the server. Our Python backend sends this header with the new, specific URL (e.g., `/book/the-rare-tome`). HTMX sees this header and automatically updates the browser's address bar using the History API, all without a page reload. This makes the dynamic state a real, bookmarkable, and shareable URL.
        </p>
      </div>
    </details>
  </div>
</div>
<button
  @click="conceptsModalOpen = false"
  class="absolute top-4 right-4 text-slate-500 hover:text-slate-300 text-3xl font-light"
>
  ×
</button>
<!-- Content generated/inserted by enhance_courseware.py -->
<div class="text-base md:text-lg">
  <h2 class="text-3xl lg:text-4xl font-bold text-white mb-6">
    The "Why" Behind the "What": HTMX Core Concepts
  </h2>
  <div x-data="{ openAccordion: 1 }" class="space-y-3 text-left">
    <details class="bg-slate-900 p-4 rounded-lg" :open="openAccordion === 1">
      <summary
        @click.prevent="openAccordion = (openAccordion === 1) ? null : 1"
        class="font-semibold text-lg lg:text-xl text-indigo-400 cursor-pointer list-none flex justify-between items-center"
      >
        <span>Why use `hx-post` and `hx-target`?</span>
        <span
          class="text-slate-500 text-sm transform transition-transform"
          :class="{ 'rotate-180': openAccordion === 1 }"
          >▼</span
        >
      </summary>
      <div class="mt-3 text-slate-300 space-y-2">
        <p>
          <strong>The Problem:</strong> Standard HTML forms trigger a full-page reload upon submission. To create a modern, dynamic experience where only a part of the page updates (like an order summary), developers traditionally have to write complex JavaScript. This involves intercepting the form submission, using `fetch()` to send data, parsing the response, and manually manipulating the DOM to update the UI.
        </p>
        <p>
          <strong>The HTMX Solution:</strong> HTMX replaces this complexity with simple HTML attributes. `hx-post` tells the form to send its data to the server via a POST request without a page reload. `hx-target` then specifies which element on the page should be updated with the HTML fragment returned by the server. This achieves a seamless partial-page update using only declarative HTML.
        </p>
      </div>
    </details>
    <details class="bg-slate-900 p-4 rounded-lg" :open="openAccordion === 2">
      <summary
        @click.prevent="openAccordion = (openAccordion === 2) ? null : 2"
        class="font-semibold text-lg lg:text-xl text-indigo-400 cursor-pointer list-none flex justify-between items-center"
      >
        <span>Why use `hx-disabled-elt`?</span>
        <span
          class="text-slate-500 text-sm transform transition-transform"
          :class="{ 'rotate-180': openAccordion === 2 }"
          >▼</span
        >
      </summary>
      <div class="mt-3 text-slate-300 space-y-2">
        <p>
          <strong>The Problem:</strong> During the brief time a server is processing a form submission, a user might click the "Submit" button again. This can lead to duplicate requests, creating duplicate orders or other unintended side effects. Preventing this in JavaScript requires manually adding and removing the `disabled` attribute on the form or button, which adds more state-management code.
        </p>
        <p>
          <strong>The HTMX Solution:</strong> The `hx-disabled-elt` attribute provides a robust, one-line solution. By setting `hx-disabled-elt="this"` on the form, HTMX automatically disables the entire form the moment the request is sent and re-enables it once the response is received. This prevents duplicate submissions and improves user experience without any custom JavaScript.
        </p>
      </div>
    </details>
    <details class="bg-slate-900 p-4 rounded-lg" :open="openAccordion === 3">
      <summary
        @click.prevent="openAccordion = (openAccordion === 3) ? null : 3"
        class="font-semibold text-lg lg:text-xl text-indigo-400 cursor-pointer list-none flex justify-between items-center"
      >
        <span>Why use the `htmx-request` class & indicators?</span>
        <span
          class="text-slate-500 text-sm transform transition-transform"
          :class="{ 'rotate-180': openAccordion === 3 }"
          >▼</span
        >
      </summary>
      <div class="mt-3 text-slate-300 space-y-2">
        <p>
          <strong>The Problem:</strong> When an action is asynchronous, the UI can feel unresponsive if there's no visual feedback. The user doesn't know if their click was registered or if the system is working. Developers typically write JavaScript to add/remove CSS classes (e.g., `.is-loading`) to show spinners or dim the UI during the request.
        </p>
        <p>
          <strong>The HTMX Solution:</strong> HTMX automatically adds the `htmx-request` class to the element that triggered the request. We can simply define a CSS rule for `.htmx-request` (like `opacity: 0.5`) to provide immediate feedback. For more explicit feedback, the `htmx-indicator` class offers a declarative way to show a loading message or spinner only during the request, which is much simpler than manual DOM manipulation.
        </p>
      </div>
    </details>
  </div>
</div>
<button
  @click="conceptsModalOpen = false"
  class="absolute top-4 right-4 text-slate-500 hover:text-slate-300 text-3xl font-light"
>
  ×
</button>